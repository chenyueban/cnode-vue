(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d09","chunk-5873"],{"01f8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.to?a("a",{class:t.classes,attrs:{disabled:t.disabled,href:t.linkUrl,target:t.target},on:{click:[function(e){if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return null;t.handleClickLink(e,!1)},function(e){if(!e.ctrlKey)return null;t.handleClickLink(e,!0)},function(e){if(!e.metaKey)return null;t.handleClickLink(e,!0)}]}},[t.loading?a("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):t._e(),!t.icon&&!t.customIcon||t.loading?t._e():a("Icon",{attrs:{type:t.icon,custom:t.customIcon}}),t.showSlot?a("span",{ref:"slot"},[t._t("default")],2):t._e()],1):a("button",{class:t.classes,attrs:{type:t.htmlType,disabled:t.disabled},on:{click:t.handleClickLink}},[t.loading?a("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):t._e(),!t.icon&&!t.customIcon||t.loading?t._e():a("Icon",{attrs:{type:t.icon,custom:t.customIcon}}),t.showSlot?a("span",{ref:"slot"},[t._t("default")],2):t._e()],1)},n=[],i=a("a322"),r=a("d3b2"),c=a("cd51"),o=a("d30b"),l="ivu-btn",u={name:"Button",mixins:[o["a"]],components:{Icon:r["a"]},props:{type:{validator:function(t){return Object(c["f"])(t,["default","primary","dashed","text","info","success","warning","error"])},default:"default"},shape:{validator:function(t){return Object(c["f"])(t,["circle","circle-outline"])}},size:{validator:function(t){return Object(c["f"])(t,["small","large","default"])},default:function(){return""===this.$IVIEW.size?"default":this.$IVIEW.size}},loading:Boolean,disabled:Boolean,htmlType:{default:"button",validator:function(t){return Object(c["f"])(t,["button","submit","reset"])}},icon:{type:String,default:""},customIcon:{type:String,default:""},long:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1}},data:function(){return{showSlot:!0}},computed:{classes:function(){var t;return["".concat(l),"".concat(l,"-").concat(this.type),(t={},Object(i["a"])(t,"".concat(l,"-long"),this.long),Object(i["a"])(t,"".concat(l,"-").concat(this.shape),!!this.shape),Object(i["a"])(t,"".concat(l,"-").concat(this.size),"default"!==this.size),Object(i["a"])(t,"".concat(l,"-loading"),null!=this.loading&&this.loading),Object(i["a"])(t,"".concat(l,"-icon-only"),!this.showSlot&&(!!this.icon||!!this.customIcon||this.loading)),Object(i["a"])(t,"".concat(l,"-ghost"),this.ghost),t)]}},methods:{handleClickLink:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$emit("click",t),this.handleCheckClick(t,e)}},mounted:function(){this.showSlot=void 0!==this.$slots.default}},d=u,p=a("2877"),f=Object(p["a"])(d,s,n,!1,null,null,null);f.options.__file="button.vue";var h=f.exports,v=a("a65c");h.Group=v["a"];e["a"]=h},"0a49":function(t,e,a){var s=a("9b43"),n=a("626a"),i=a("4bf8"),r=a("9def"),c=a("cd1c");t.exports=function(t,e){var a=1==t,o=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d,f=e||c;return function(e,c,h){for(var v,m,g=i(e),_=n(g),b=s(c,h,3),C=r(_.length),y=0,k=a?f(e,C):o?f(e,0):void 0;C>y;y++)if((p||y in _)&&(v=_[y],m=b(v,y,g),t))if(a)k[y]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return y;case 2:k.push(v)}else if(u)return!1;return d?-1:l||u?u:k}}},1169:function(t,e,a){var s=a("2d95");t.exports=Array.isArray||function(t){return"Array"==s(t)}},"1ed3":function(t,e,a){"use strict";var s=a("2681"),n=a.n(s);n.a},2681:function(t,e,a){},"2cfb":function(t,e,a){},7368:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user"},[t.datas?a("Card",{staticClass:"card user-card",attrs:{title:"用户信息"}},[a("div",{staticClass:"info"},[a("router-link",{staticClass:"avatar",attrs:{to:{name:"user",params:{loginname:t.datas.loginname}}}},[a("Avatar",{staticClass:"avatar",attrs:{size:"default",src:t.datas.avatar_url}})],1),a("span",{staticClass:"name"},[t._v(t._s(t.datas.loginname))])],1),a("div",{staticClass:"info"},[t._v("\n            "+t._s(t.datas.score)+"\n            "),a("span",[t._v("积分")])]),a("div",{staticClass:"info"},[a("Icon",{attrs:{type:"logo-github",size:"20"}}),a("span",[a("a",{attrs:{target:"_blank",href:"https://github.com/"+t.datas.githubUsername}},[t._v("@"+t._s(t.datas.githubUsername))])])],1),a("div",{staticClass:"info"},[t._v("\n            注册时间\n            "),a("Time",{attrs:{time:t.datas.create_at,type:"date"}})],1)]):t._e(),t.datas&&t.datas.recent_topics.length?a("Card",{staticClass:"card topics-card",attrs:{title:"最近创建的话题"}},t._l(t.limitTopics,function(t){return a("Cell",{key:t.in,attrs:{datas:t}})})):t._e(),t.datas&&t.datas.recent_replies.length?a("Card",{staticClass:"card replies-card",attrs:{title:"最近参与的话题"}},t._l(t.limitReplies,function(t){return a("Cell",{key:t.in,attrs:{datas:t}})})):t._e()],1)},n=[],i=(a("96cf"),a("3040")),r=a("d3b2"),c=a("dea1"),o=a("4456"),l=a("0347"),u=(a("cadf"),a("551c"),a("097d"),a("9eeb")),d={name:"User",components:{Card:l["a"],Avatar:o["a"],Time:c["a"],Cell:u["a"],Icon:r["a"]},props:["username"],data:function(){return{datas:null}},methods:{getUserInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.getUserInfo(e);case 3:a=t.sent,this.datas=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){this.$route.params.loginname?this.getUserInfo(this.$route.params.loginname):this.getUserInfo(this.username)},computed:{limitTopics:function(){return this.datas.recent_topics.length>5?this.datas.recent_topics.slice(0,5):this.datas.recent_topics},limitReplies:function(){return this.datas.recent_replies.length>5?this.datas.recent_replies.slice(0,5):this.datas.recent_replies}}},p=d,f=(a("1ed3"),a("2877")),h=Object(f["a"])(p,s,n,!1,null,"73c3416f",null);h.options.__file="index.vue";e["default"]=h.exports},7514:function(t,e,a){"use strict";var s=a("5ca1"),n=a("0a49")(5),i="find",r=!0;i in[]&&Array(1)[i](function(){r=!1}),s(s.P+s.F*r,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},"77cb":function(t,e,a){"use strict";var s=a("af60"),n=a.n(s);n.a},a65c:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.classes},[t._t("default")],2)},n=[],i=a("a322"),r=a("cd51"),c="ivu-btn-group",o={name:"ButtonGroup",props:{size:{validator:function(t){return Object(r["f"])(t,["small","large","default"])},default:function(){return""===this.$IVIEW.size?"default":this.$IVIEW.size}},shape:{validator:function(t){return Object(r["f"])(t,["circle","circle-outline"])}},vertical:{type:Boolean,default:!1}},computed:{classes:function(){var t;return["".concat(c),(t={},Object(i["a"])(t,"".concat(c,"-").concat(this.size),!!this.size),Object(i["a"])(t,"".concat(c,"-").concat(this.shape),!!this.shape),Object(i["a"])(t,"".concat(c,"-vertical"),this.vertical),t)]}}},l=o,u=a("2877"),d=Object(u["a"])(l,s,n,!1,null,null,null);d.options.__file="button-group.vue";e["a"]=d.exports},a706:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"topic"},[a("div",{staticClass:"article",attrs:{id:"content"}},[t.post?a("Card",{staticClass:"head"},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("Put",{attrs:{data:t.post}}),t._v("\n                    "+t._s(t.post.title)+"\n                    "),a("div",{staticClass:"changes"},[a("div",{staticClass:"left"},[a("span",[a("Icon",{attrs:{type:"md-egg",size:"16"}}),t._v("\n                                发布于"),a("Time",{attrs:{time:t.post.create_at}})],1),a("span",[a("Icon",{attrs:{type:"ios-happy",size:"16"}}),t._v("\n                                作者 "+t._s(t.post.author.loginname)+"\n                            ")],1),a("span",[a("Icon",{attrs:{type:"ios-podium",size:"16"}}),t._v(t._s(t.post.visit_count)+" 次浏览\n                            ")],1),a("span",[a("Icon",{attrs:{type:"md-subway",size:"16"}}),t._v("来自 "+t._s(t._f("formatTab")(t.post.tab))+"\n                            ")],1)]),a("div",{staticClass:"right"},[t.isCollected?a("Button",{attrs:{size:"large",type:"text",icon:"ios-happy",shape:"circle"},on:{click:function(e){t.deCollect(t.$store.state.accesstoken,t.$route.params.id)}}},[t._v("\n                                取消收藏\n                            ")]):a("Button",{attrs:{size:"large",type:"text",icon:"ios-sad-outline",shape:"circle"},on:{click:function(e){t.collect(t.$store.state.accesstoken,t.$route.params.id)}}},[t._v("\n                                收藏\n                            ")])],1)])],1),t.post?a("div",{staticClass:"detail"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post.content)}})]):t._e()]):t._e(),t.post?a("Card",{staticClass:"reply"},[a("div",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"md-git-commit",size:"18"}}),t._v("\n                    "+t._s(t.post.reply_count)+" 回复\n                ")],1),t._l(t.post.replies,function(e,s){return a("div",{key:e.id,staticClass:"cell",attrs:{id:e.id}},[a("router-link",{staticClass:"avatar",attrs:{to:{name:"user",params:{loginname:e.author.loginname}}}},[a("Avatar",{attrs:{size:"default",src:e.author.avatar_url}})],1),a("div",{staticClass:"details"},[a("div",{staticClass:"info"},[a("div",{staticClass:"left"},[a("div",{staticClass:"name"},[t._v(t._s(e.author.loginname))]),a("Time",{staticClass:"time",attrs:{time:e.create_at}}),a("a",{attrs:{href:"#"+e.id}},[a("span",{staticClass:"index"},[t._v(t._s(s+1)+"楼")])]),t.post.author.loginname===e.author.loginname?a("Tag",{attrs:{color:"success"}},[t._v("作者")]):t._e()],1),a("Button",{staticClass:"ups",attrs:{size:"default",type:"text"},on:{click:function(a){t.handleUps(e)}}},[a("Icon",{attrs:{type:"ios-thumbs-up",size:"16"}}),t._v("\n                                "+t._s(e.ups.length)+"\n                            ")],1)],1),a("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])],1)})],2):t._e(),a("Markdown",{attrs:{title:"添加回复"},on:{submit:t.handleSubmit}})],1),t.post?a("User",{attrs:{username:t.post.author.loginname}}):t._e()],1)])},n=[],i=(a("96cf"),a("3040")),r=(a("7514"),a("6bf4")),c=a("4456"),o=a("0347"),l=a("01f8"),u=a("d3b2"),d=a("dea1"),p=(a("cadf"),a("551c"),a("097d"),a("2b25")),f=a("68cc"),h=a("7368"),v={name:"Article",components:{Time:d["a"],Icon:u["a"],Button:l["a"],Card:o["a"],Avatar:c["a"],Tag:r["a"],Put:p["a"],Markdown:f["a"],User:h["default"]},data:function(){return{post:null}},filters:{formatTab:function(t){switch(t){case"ask":return"问答";case"share":return"分享";case"job":return"招聘";default:return"客户端测试"}}},computed:{isCollected:function(){var t=this,e=this.$store.state.collects;return!(!e||!e.find(function(e){return e.id===t.$route.params.id}))}},methods:{getTopic:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.getTopic(e);case 3:a=t.sent,document.title=a.data.title,this.post=a.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),collect:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.postCollect(e,a);case 3:s=t.sent,console.log(s),this.$store.dispatch("getCollects",this.$store.state.userinfo.loginname),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}(),deCollect:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.postDeCollect(e,a);case 3:s=t.sent,console.log(s),this.$store.dispatch("getCollects",this.$store.state.userinfo.loginname),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}(),handleUps:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.postUps(e.id,this.$store.state.accesstoken);case 3:a=t.sent,a&&("up"===a.action&&e.ups.push(this.$store.state.userinfo.id),"down"===a.action&&e.ups.pop()),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),handleSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.postReplies(this.$route.params.id,this.$store.state.accesstoken,e);case 3:a=t.sent,a.success&&this.$router.go(0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){this.getTopic(this.$route.params.id);var t=this.$store.state,e=t.accesstoken,a=t.userinfo,s=t.collects;e&&a&&!s&&this.$store.dispatch("getCollects",a.loginname)}},m=v,g=(a("a799"),a("77cb"),a("2877")),_=Object(g["a"])(m,s,n,!1,null,"77b8fb23",null);_.options.__file="index.vue";e["default"]=_.exports},a799:function(t,e,a){"use strict";var s=a("2cfb"),n=a.n(s);n.a},af60:function(t,e,a){},cd1c:function(t,e,a){var s=a("e853");t.exports=function(t,e){return new(s(t))(e)}},e853:function(t,e,a){var s=a("d3f4"),n=a("1169"),i=a("2b4c")("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),s(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-5d09.d0355946.js.map